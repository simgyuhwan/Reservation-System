# 예약 및 결제 시스템

## 프로젝트 설명

고객이 예약한 상품 또는 서비스를 결제하는 시스템

---

## 요구사항

### 기본 기능

- 사용자는 상품 또는 서비스를 예약할 수 있습니다.
- 사용자는 예약한 상품 또는 서비스에 대해 결제할 수 있습니다.
- 결제가 완료된 상품 또는 서비스에 대해 사용자는 예약 취소를 요청할 수 있습니다.
- 상품 또는 서비스 예약 정보, 결제 정보 및 취소 정보에 대한 CRUD 기능을 제공합니다.

### 사용자 기능

- 사용자는 회원가입을 할 수 있습니다.
- 사용자는 로그인 및 로그아웃을 할 수 있습니다.
- 사용자는 예약 가능한 날짜 및 시간을 조회할 수 있습니다.
- 사용자는 예약 가능한 날짜 및 시간 중에서 원하는 시간을 선택하여 예약할 수 있습니다.
- 사용자는 예약한 내용을 확인하고 수정할 수 있으며, 예약을 취소할 수 있습니다.
- 사용자는 결제를 할 수 있고, 결제한 내용을 확인할 수 있습니다.

### 관리자 기능

- 관리자는 전체 예약 내용을 조회하고 수정 또는 취소할 수 있습니다.
- 관리자는 결제 내역을 확인할 수 있습니다.

### 시스템 기능

- 시스템은 상품 또는 서비스 예약 정보, 결제 정보 및 취소 정보를 Kafka를 통해 이벤트로 발행합니다.
- 이벤트를 수신한 서비스는 해당 이벤트를 처리하여 내부 데이터를 업데이트합니다.
- 시스템은 사용자가 예약하고 결제한 내용을 저장합니다.
- 시스템은 예약 가능한 날짜 및 시간을 관리합니다.
- 시스템은 결제를 처리하고, 예약 및 결제에 대한 로그를 남깁니다.

---

## 기술 스택(버전 명시 예정)

Java, Spring Boot, Kafka, Spring Cloud, MSA architecture, Redis

---

## 주요 포인트

- 성능 향상을 위한 캐시 적용
- 대용량 트래픽을 대응하기 위한 비동기 처리 고려
- 데이터베이스 성능 최적화
- 동시성 제어
- 모니터링, 로깅 구성
- 서버 확장성

---

## 테스트 케이스

### 회원 가입 API

- 입력한 이메일과 비밀번호를 바탕으로 새로운 회원이 생성되는지 확인
- 이메일 또는 비밀번호가 누락되었을 때, 적절한 에러 메시지가 반환되는지 확인
- 이미 등록된 이메일이 입력되었을 때, 적절한 에러 메시지가 반환되는지 확인
- 이메일이 유효하지 않은 형식일 때, 적절한 에러 메시지가 반환되는지 확인

### 로그인 API

- 등록된 이메일과 비밀번호가 일치하는 경우, 로그인이 성공하는지 확인
- 등록된 이메일이 아닌 경우, 적절한 에러 메시지가 반환되는지 확인
- 등록된 이메일이지만, 비밀번호가 일치하지 않는 경우, 적절한 에러 메시지가 반환되는지 확인

### 상품 등록 API

- 입력한 상품 정보가 바탕으로 새로운 상품이 등록되는지 확인
- 상품 정보가 누락되었을 때, 적절한 에러 메시지가 반환되는지 확인
- 등록된 상품과 같은 이름의 상품을 등록하려고 할 때, 적절한 에러 메시지가 반환되는지 확인

### 상품 조회 API

- 등록된 상품 정보가 반환되는지 확인
- 등록된 상품 정보 중 일부 필드가 제외될 수 있는지 확인
- 등록된 상품이 없을 때, 적절한 에러 메시지가 반환되는지 확인

### 상품 수정 API

- 입력한 상품 정보가 바탕으로 해당 상품이 수정되는지 확인
- 수정하려는 상품이 존재하지 않을 때, 적절한 에러 메시지가 반환되는지 확인
- 상품 정보가 누락되었을 때, 적절한 에러 메시지가 반환되는지 확인

### 상품 삭제 API

- 입력한 상품 ID에 해당하는 상품이 삭제되는지 확인
- 삭제하려는 상품이 존재하지 않을 때, 적절한 에러 메시지가 반환되는지 확인

### 주문 생성 API

- 입력한 상품 ID와 수량을 바탕으로 새로운 주문이 생성되는지 확인
- 상품 ID가 존재하지 않을 때, 적절한 에러 메시지가 반환되는지 확인
- 상품 수량이 재고보다 많을 때, 적절한 에러 메시지가 반환되는지 확인

### 주문 조회 API

- 입력한 상품 ID와 수량을 바탕으로 새로운 주문이 생성되는지 확인
- 상품 ID가 존재하지 않을 때, 적절한 에러 메시지가 반환되는지 확인
- 상품 수량이 재고보다 많을 때, 적절한 에러 메시지가 반환되는지 확인

### 주문 취소 API

- 입력한 주문 ID에 해당하는 주문이 취소되는지 확인
- 취소하려는 주문이 존재하지 않을 때, 적절한 에러 메시지가 반환되는지 확인
- 이미 취소된 주문을 다시 취소하려고 할 때, 적절한 에러 메시지가 반환되는지 확인

### 결제 API

- 입력한 주문 ID에 해당하는 주문이 결제되는지 확인
- 결제가 완료된 주문은 취소할 수 없는지 확인
- 결제를 완료하지 않은 주문에 대해서는 취소할 수 있는지 확인
